<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body>
    <form id="form" method="post">
      <label for="name">name</label><input type="text" id="name" placeholder="name" />
      <label for="body">body</label><input type="text" id="body" placeholder="body" />
      <label for="id">id</label><input type="number" id="id" placeholder="id" />
      <input type="submit" value="add todo" />
    </form>
    <button id="mygo">Go</button>
  </body>
  <script>
    let form = document.getElementById("form")
    let mygo = document.getElementById("mygo")

    form.addEventListener("submit", function (e) {
      e.preventDefault()

      let name = document.getElementById("name")
      let body = document.getElementById("body")
      let id = document.getElementById("id")

      fetch("https://jsonplaceholder.typicode.com/posts", {
        method: "POST",
        body: JSON.stringify({ name: name, body: body, id: id }),
        headers: { "Content-Type": "application/json; charset=UTF-8" }
      })
        .then((res) => {
          return res.json()
        })
        .then(function (data) {
          console.log(data)
        })
        .catch((err) => console.log(err))
    })

    mygo.addEventListener("click", function (e) {
      e.preventDefault()
      console.log("button clicked!")

      fetch("http://localhost:5000/user")
        .then(function (res) {
          console.log(res)
        })
        .catch((err) => console.log(err))
    })
  </script>
</html>
